<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link src="./style.css">
        <title>Hm</title>
    </head>

    <body>
        <h1 class="header">Flashcards</h1>
        <section class="mainSection">
            <div>
                <h3 id="cardAddedStatus">Create Your Flashcard</h3>
                <form id="createItemForm">
                    <label for="title">Title: </label>
                    <input type="text" name="title" id="title" required />
                    <label for="definition">Definition: </label>
                    <input type="text" name="definition" id="definition" required />
                    <button id="submitButton" onclick="createItem()">

                        Add Card
                    </button>
                </form>
            </div>
            <div class="flashcardContainer">
                <div id="flashcard" onclick="flipFlashcard()">
                    <p id="flashcardTitle">Mississippi</p>
                    <p id="flashcardDefinition">Defintion of the flashcard will be here</p>
                </div>
            </div>
        </section>
        <script>
            const createItemForm = document.getElementById("createItemForm");
            const cardAddedStatus = document.getElementById("cardAddedStatus");
            const flashcard = document.getElementById("flashcard");
            const flashcardTitle = document.getElementById("flashcardTitle");
            const flashcardDefinition = document.getElementById("flashcardDefinition");

            var dbData = [];
            // const submissionResult = document.getElementById("submissionResult");
            function hideForm() {
                createItemForm.style.visibility = "hidden";
                cardAddedStatus.style.width = "max-content";
                cardAddedStatus.style.color = "blue";
                cardAddedStatus.style.marginRight = "-100px";
                cardAddedStatus.innerHTML = "Your Card Was Successfully Added!";
            }
            async function createItem() {
                try {
                    event.preventDefault()
                    const response = await fetch("v1/item", {
                        method: "POST",
                        headers: {
                            "Content-Type": "application/x-www-form-urlencoded",
                        },
                        body: JSON.stringify({
                            title: document.getElementById("title").value,
                            definition: document.getElementById("definition").value,
                        }),
                    });
                    if (!response.ok) {
                        throw new Error(`HTTP error! Status: ${response.status}`);
                    } else {
                        hideForm()
                        // createItemForm.style.display = "none";
                        // submissionResult.style.visibility = "visible";
                    }
                } catch (error) {
                    console.error("Error Fetching Data:", error);
                }
            }
            async function getAllItems() {

                try {
                    const response = await fetch("v1/items", {
                        method: "GET",
                        headers: {
                            "Content-Type": "application/json",
                        },
                    });

                    if (!response.ok) {
                        throw new Error(`HTTP error! Status: ${response.status}`);
                    }

                    dbData = await response.json();
                    amountOfData = data.length
                } catch (error) {
                    console.error("Error fetching data:", error);
                    submissionResult.innerHTML = "Opps! Something Went Wrong!";
                    submissionResult.style.visibility = "visible";
                }
            }

        </script>
    </body>

</html>

<!-- <!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Hm</title>
    </head>

    <body>
        <h1>CRUD</h1>
        <h3>Create 1</h3>
        <form action="v1/item" method="post" onsubmit="createItem();" id="createItemForm">
            <label for="title">Title: </label>
            <input type="text" name="title" id="title" required>
            <label for="definition">Definition: </label>
            <input type="text" name="definition" required>
            <button type="submit">Create Item</button>
        </form>
        <p id="submissionResult" style="visibility: hidden;">Thank You!</p>
        <h3>Update</h3>
        <form method="get"> -->
<!-- <label for="title">Title: </label>
            <input type="text" name="title">
            <label for="definition">Definition: </label>
            <input type="text" name="definition"> -->
<!-- <button type="submit" onclick=getAllItems()>Get em</button>
        </form>
        <p id="here3">NUMBER</p>
        <p id="here1">TITLE</p>
        <p id="here2">CSOMPLETED</p>


        <h1 style="margin: auto;
        text-align: center;
        margin-top: 10px;
        margin-bottom: 10px;
        color: cadetblue;">Flashcards</h1>

        <section id="card" style="
        display: flex;
        flex-direction: column;
        width: 400px;
        height: 250px;
        margin: auto;
        background-color:burlywood;
        border:dashed 8px cadetblue;
        padding: 10px 20px;
        ">
            <p id="cardTitle" style="font-size: 20px;">{x}</p>
            <p id="cardDefinition" style="font-size: 20px;"></p>

        </section> -->